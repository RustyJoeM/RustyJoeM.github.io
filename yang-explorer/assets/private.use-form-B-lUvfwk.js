import{F as st,b as $,n as ct,aq as dt,g as O,r as k,al as et,ar as _,z as Pt,w as W,a as Et,as as G,at as V,au as D,c as ft,u as St,ae as Ht,h as A,av as Ct,aw as Wt,ax as Mt,e as E,a7 as $t,aa as kt,f as qt,B as Lt}from"./index-DmsU0l2K.js";import{i as K,g as At,d as Ft,s as zt,e as Dt,f as _t,j as Qt}from"./use-quasar-CJZLGO_I.js";function jt(){let t;const e=O();function l(){t=void 0}return st(l),$(l),{removeTick:l,registerTick(n){t=n,ct(()=>{t===n&&(dt(e)===!1&&t(),t=void 0)})}}}function Ot(){let t=null;const e=O();function l(){t!==null&&(clearTimeout(t),t=null)}return st(l),$(l),{removeTimeout:l,registerTimeout(n,i){l(),dt(e)===!1&&(t=setTimeout(()=>{t=null,n()},i))}}}const ie=(t,e)=>{const l=t.__vccOpts||t;for(const[n,i]of e)l[n]=i;return l},Bt={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean};function It({showing:t,avoidEmit:e,configureAnchorEl:l}){const{props:n,proxy:i,emit:u}=O(),o=k(null);let r=null;function d(a){return o.value===null?!1:a===void 0||a.touches===void 0||a.touches.length<=1}const s={};l===void 0&&(Object.assign(s,{hide(a){i.hide(a)},toggle(a){i.toggle(a),a.qAnchorHandled=!0},toggleKey(a){Pt(a,13)===!0&&s.toggle(a)},contextClick(a){i.hide(a),et(a),ct(()=>{i.show(a),a.qAnchorHandled=!0})},prevent:et,mobileTouch(a){if(s.mobileCleanup(a),d(a)!==!0)return;i.hide(a),o.value.classList.add("non-selectable");const c=a.target;_(s,"anchor",[[c,"touchmove","mobileCleanup","passive"],[c,"touchend","mobileCleanup","passive"],[c,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,i.show(a),a.qAnchorHandled=!0},300)},mobileCleanup(a){o.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),t.value===!0&&a!==void 0&&K()}}),l=function(a=n.contextMenu){if(n.noParentEvent===!0||o.value===null)return;let c;a===!0?i.$q.platform.is.mobile===!0?c=[[o.value,"touchstart","mobileTouch","passive"]]:c=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:c=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],_(s,"anchor",c)});function h(){G(s,"anchor")}function p(a){for(o.value=a;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;l()}function b(){if(n.target===!1||n.target===""||i.$el.parentNode===null)o.value=null;else if(n.target===!0)p(i.$el.parentNode);else{let a=n.target;if(typeof n.target=="string")try{a=document.querySelector(n.target)}catch{a=void 0}a!=null?(o.value=a.$el||a,l()):(o.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return W(()=>n.contextMenu,a=>{o.value!==null&&(h(),l(a))}),W(()=>n.target,()=>{o.value!==null&&h(),b()}),W(()=>n.noParentEvent,a=>{o.value!==null&&(a===!0?h():l())}),Et(()=>{b(),e!==!0&&n.modelValue===!0&&o.value===null&&u("update:modelValue",!1)}),$(()=>{r!==null&&clearTimeout(r),h()}),{anchorEl:o,canShow:d,anchorEvents:s}}function Nt(t,e){const l=k(null);let n;function i(r,d){const s=`${d!==void 0?"add":"remove"}EventListener`,h=d!==void 0?d:n;r!==window&&r[s]("scroll",h,V.passive),window[s]("scroll",h,V.passive),n=d}function u(){l.value!==null&&(i(l.value),l.value=null)}const o=W(()=>t.noParentEvent,()=>{l.value!==null&&(u(),e())});return $(o),{localScrollTarget:l,unconfigureScrollTarget:u,changeScrollEvent:i}}let S=[],F=[];function ht(t){F=F.filter(e=>e!==t)}function Rt(t){ht(t),F.push(t)}function nt(t){ht(t),F.length===0&&S.length!==0&&(S[S.length-1](),S=[])}function oe(t){F.length===0?t():S.push(t)}function ae(t){S=S.filter(e=>e!==t)}const M=[];function re(t){return M.find(e=>e.contentEl!==null&&e.contentEl.contains(t))}function Gt(t,e){do{if(t.$options.name==="QMenu"){if(t.hide(e),t.$props.separateClosePopup===!0)return D(t)}else if(t.__qPortal===!0){const l=D(t);return l!==void 0&&l.$options.name==="QPopupProxy"?(t.hide(e),l):t}t=D(t)}while(t!=null)}function ue(t,e,l){for(;l!==0&&t!==void 0&&t!==null;){if(t.__qPortal===!0){if(l--,t.$options.name==="QMenu"){t=Gt(t,e);continue}t.hide(e)}t=D(t)}}const Vt=ft({name:"QPortal",setup(t,{slots:e}){return()=>e.default()}});function Kt(t){for(t=t.parent;t!=null;){if(t.type.name==="QGlobalDialog")return!0;if(t.type.name==="QDialog"||t.type.name==="QMenu")return!1;t=t.parent}return!1}function Ut(t,e,l,n){const i=k(!1),u=k(!1);let o=null;const r={},d=n==="dialog"&&Kt(t);function s(p){if(p===!0){nt(r),u.value=!0;return}u.value=!1,i.value===!1&&(d===!1&&o===null&&(o=Wt(!1,n)),i.value=!0,M.push(t.proxy),Rt(r))}function h(p){if(u.value=!1,p!==!0)return;nt(r),i.value=!1;const b=M.indexOf(t.proxy);b!==-1&&M.splice(b,1),o!==null&&(Mt(o),o=null)}return St(()=>{h(!0)}),t.proxy.__qPortal=!0,Ht(t.proxy,"contentEl",()=>e.value),{showPortal:s,hidePortal:h,portalIsActive:i,portalIsAccessible:u,renderPortal:()=>d===!0?l():i.value===!0?[A(Ct,{to:o},A(Vt,l))]:void 0}}const N={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Xt(t,e=()=>{},l=()=>{}){return{transitionProps:E(()=>{const n=`q-transition--${t.transitionShow||e()}`,i=`q-transition--${t.transitionHide||l()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:E(()=>`--q-transition-duration: ${t.transitionDuration}ms`)}}const{notPassiveCapture:Q}=V,H=[];function j(t){const e=t.target;if(e===void 0||e.nodeType===8||e.classList.contains("no-pointer-events")===!0)return;let l=M.length-1;for(;l>=0;){const n=M[l].$;if(n.type.name==="QTooltip"){l--;continue}if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;l--}for(let n=H.length-1;n>=0;n--){const i=H[n];if((i.anchorEl.value===null||i.anchorEl.value.contains(e)===!1)&&(e===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(e)===!1))t.qClickOutside=!0,i.onClickOutside(t);else return}}function Yt(t){H.push(t),H.length===1&&(document.addEventListener("mousedown",j,Q),document.addEventListener("touchstart",j,Q))}function lt(t){const e=H.findIndex(l=>l===t);e!==-1&&(H.splice(e,1),H.length===0&&(document.removeEventListener("mousedown",j,Q),document.removeEventListener("touchstart",j,Q)))}let it,ot;function at(t){const e=t.split(" ");return e.length!==2?!1:["top","center","bottom"].includes(e[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(e[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Jt(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const U={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{U[`${t}#ltr`]=t,U[`${t}#rtl`]=t});function rt(t,e){const l=t.split(" ");return{vertical:l[0],horizontal:U[`${l[1]}#${e===!0?"rtl":"ltr"}`]}}function Zt(t,e){let{top:l,left:n,right:i,bottom:u,width:o,height:r}=t.getBoundingClientRect();return e!==void 0&&(l-=e[1],n-=e[0],u+=e[1],i+=e[0],o+=e[0],r+=e[1]),{top:l,bottom:u,height:r,left:n,right:i,width:o,middle:n+(i-n)/2,center:l+(u-l)/2}}function te(t,e,l){let{top:n,left:i}=t.getBoundingClientRect();return n+=e.top,i+=e.left,l!==void 0&&(n+=l[1],i+=l[0]),{top:n,bottom:n+1,height:1,left:i,right:i+1,width:1,middle:i,center:n}}function ee(t,e){return{top:0,center:e/2,bottom:e,left:0,middle:t/2,right:t}}function ut(t,e,l,n){return{top:t[l.vertical]-e[n.vertical],left:t[l.horizontal]-e[n.horizontal]}}function mt(t,e=0){if(t.targetEl===null||t.anchorEl===null||e>5)return;if(t.targetEl.offsetHeight===0||t.targetEl.offsetWidth===0){setTimeout(()=>{mt(t,e+1)},10);return}const{targetEl:l,offset:n,anchorEl:i,anchorOrigin:u,selfOrigin:o,absoluteOffset:r,fit:d,cover:s,maxHeight:h,maxWidth:p}=t;if($t.is.ios===!0&&window.visualViewport!==void 0){const C=document.body.style,{offsetLeft:g,offsetTop:T}=window.visualViewport;g!==it&&(C.setProperty("--q-pe-left",g+"px"),it=g),T!==ot&&(C.setProperty("--q-pe-top",T+"px"),ot=T)}const{scrollLeft:b,scrollTop:a}=l,c=r===void 0?Zt(i,s===!0?[0,0]:n):te(i,r,n);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:p,maxHeight:h,visibility:"visible"});const{offsetWidth:x,offsetHeight:q}=l,{elWidth:B,elHeight:z}=d===!0||s===!0?{elWidth:Math.max(c.width,x),elHeight:s===!0?Math.max(c.height,q):q}:{elWidth:x,elHeight:q};let v={maxWidth:p,maxHeight:h};(d===!0||s===!0)&&(v.minWidth=c.width+"px",s===!0&&(v.minHeight=c.height+"px")),Object.assign(l.style,v);const y=ee(B,z);let f=ut(c,y,u,o);if(r===void 0||n===void 0)R(f,c,y,u,o);else{const{top:C,left:g}=f;R(f,c,y,u,o);let T=!1;if(f.top!==C){T=!0;const w=2*n[1];c.center=c.top-=w,c.bottom-=w+2}if(f.left!==g){T=!0;const w=2*n[0];c.middle=c.left-=w,c.right-=w+2}T===!0&&(f=ut(c,y,u,o),R(f,c,y,u,o))}v={top:f.top+"px",left:f.left+"px"},f.maxHeight!==void 0&&(v.maxHeight=f.maxHeight+"px",c.height>f.maxHeight&&(v.minHeight=v.maxHeight)),f.maxWidth!==void 0&&(v.maxWidth=f.maxWidth+"px",c.width>f.maxWidth&&(v.minWidth=v.maxWidth)),Object.assign(l.style,v),l.scrollTop!==a&&(l.scrollTop=a),l.scrollLeft!==b&&(l.scrollLeft=b)}function R(t,e,l,n,i){const u=l.bottom,o=l.right,r=At(),d=window.innerHeight-r,s=document.body.clientWidth;if(t.top<0||t.top+u>d)if(i.vertical==="center")t.top=e[n.vertical]>d/2?Math.max(0,d-u):0,t.maxHeight=Math.min(u,d);else if(e[n.vertical]>d/2){const h=Math.min(d,n.vertical==="center"?e.center:n.vertical===i.vertical?e.bottom:e.top);t.maxHeight=Math.min(u,h),t.top=Math.max(0,h-u)}else t.top=Math.max(0,n.vertical==="center"?e.center:n.vertical===i.vertical?e.top:e.bottom),t.maxHeight=Math.min(u,d-t.top);if(t.left<0||t.left+o>s)if(t.maxWidth=Math.min(o,s),i.horizontal==="middle")t.left=e[n.horizontal]>s/2?Math.max(0,s-o):0;else if(e[n.horizontal]>s/2){const h=Math.min(s,n.horizontal==="middle"?e.middle:n.horizontal===i.horizontal?e.right:e.left);t.maxWidth=Math.min(o,h),t.left=Math.max(0,h-t.maxWidth)}else t.left=Math.max(0,n.horizontal==="middle"?e.middle:n.horizontal===i.horizontal?e.left:e.right),t.maxWidth=Math.min(o,s-t.left)}const se=ft({name:"QTooltip",inheritAttrs:!1,props:{...Bt,...Dt,...N,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...N.transitionShow,default:"jump-down"},transitionHide:{...N.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:at},self:{type:String,default:"top middle",validator:at},offset:{type:Array,default:()=>[14,14],validator:Jt},scrollTarget:zt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Ft],setup(t,{slots:e,emit:l,attrs:n}){let i,u;const o=O(),{proxy:{$q:r}}=o,d=k(null),s=k(!1),h=E(()=>rt(t.anchor,r.lang.rtl)),p=E(()=>rt(t.self,r.lang.rtl)),b=E(()=>t.persistent!==!0),{registerTick:a,removeTick:c}=jt(),{registerTimeout:x}=Ot(),{transitionProps:q,transitionStyle:B}=Xt(t),{localScrollTarget:z,changeScrollEvent:v,unconfigureScrollTarget:y}=Nt(t,Z),{anchorEl:f,canShow:C,anchorEvents:g}=It({showing:s,configureAnchorEl:wt}),{show:T,hide:w}=_t({showing:s,canShow:C,handleShow:gt,handleHide:pt,hideOnRouteChange:b,processOnMount:!0});Object.assign(g,{delayShow:bt,delayHide:Tt});const{showPortal:X,hidePortal:Y,renderPortal:vt}=Ut(o,d,yt,"tooltip");if(r.platform.is.mobile===!0){const m={anchorEl:f,innerRef:d,onClickOutside(P){return w(P),P.target.classList.contains("q-dialog__backdrop")&&Lt(P),!0}},I=E(()=>t.modelValue===null&&t.persistent!==!0&&s.value===!0);W(I,P=>{(P===!0?Yt:lt)(m)}),$(()=>{lt(m)})}function gt(m){X(),a(()=>{u=new MutationObserver(()=>L()),u.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),L(),Z()}),i===void 0&&(i=W(()=>r.screen.width+"|"+r.screen.height+"|"+t.self+"|"+t.anchor+"|"+r.lang.rtl,L)),x(()=>{X(!0),l("show",m)},t.transitionDuration)}function pt(m){c(),Y(),J(),x(()=>{Y(!0),l("hide",m)},t.transitionDuration)}function J(){u!==void 0&&(u.disconnect(),u=void 0),i!==void 0&&(i(),i=void 0),y(),G(g,"tooltipTemp")}function L(){mt({targetEl:d.value,offset:t.offset,anchorEl:f.value,anchorOrigin:h.value,selfOrigin:p.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function bt(m){if(r.platform.is.mobile===!0){K(),document.body.classList.add("non-selectable");const I=f.value,P=["touchmove","touchcancel","touchend","click"].map(tt=>[I,tt,"delayHide","passiveCapture"]);_(g,"tooltipTemp",P)}x(()=>{T(m)},t.delay)}function Tt(m){r.platform.is.mobile===!0&&(G(g,"tooltipTemp"),K(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),x(()=>{w(m)},t.hideDelay)}function wt(){if(t.noParentEvent===!0||f.value===null)return;const m=r.platform.is.mobile===!0?[[f.value,"touchstart","delayShow","passive"]]:[[f.value,"mouseenter","delayShow","passive"],[f.value,"mouseleave","delayHide","passive"]];_(g,"anchor",m)}function Z(){if(f.value!==null||t.scrollTarget!==void 0){z.value=Qt(f.value,t.scrollTarget);const m=t.noParentEvent===!0?L:w;v(z.value,m)}}function xt(){return s.value===!0?A("div",{...n,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,B.value],role:"tooltip"},qt(e.default)):null}function yt(){return A(kt,q.value,xt)}return $(J),Object.assign(o.proxy,{updatePosition:L}),vt}}),ce={name:String};function de(t={}){return(e,l,n)=>{e[l](A("input",{class:"hidden"+(n||""),...t.value}))}}function fe(t){return E(()=>t.name||t.for)}export{se as Q,ie as _,Ot as a,ce as b,de as c,ue as d,N as e,Xt as f,re as g,oe as h,fe as i,ae as r,jt as u};
